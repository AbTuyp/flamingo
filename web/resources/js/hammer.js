function Hammer(h,d,K){var r,s;function z(a){a=a||window.event;if(D){for(var b=[],c=0<a.touches.length?a.touches:a.changedTouches,g=0,d=c.length;g<d;g++)a=c[g],b.push({x:a.pageX,y:a.pageY});return b}b=document;c=b.body;return[{x:a.pageX||a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&b.clientLeft||0),y:a.pageY||a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&b.clientTop||0)}]}function E(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x;d=a[0].y-a[1].y; var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x;d=b[0].y-b[1].y;return Math.sqrt(c*c+d*d)/e}return 0}function F(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x;d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x;d=b[0].y-b[1].y;return 180*Math.atan2(d,c)/Math.PI-e}return 0}function i(a,b){b.touches=z(b.originalEvent);b.type=a;"[object Function]"==Object.prototype.toString.call(t["on"+a])&&t["on"+a].call(t,b)}function u(a){a=a||window.event;a.preventDefault?(a.preventDefault(),a.stopPropagation()): (a.returnValue=!1,a.cancelBubble=!0)}function A(a){switch(a.type){case "mousedown":case "touchstart":c.start=z(a);x=(new Date).getTime();p=!0;G=a;var b=h.getBoundingClientRect();r=b.top+(window.pageYOffset||h.scrollTop||document.body.scrollTop)-(h.clientTop||document.body.clientTop||0);s=b.left+(window.pageXOffset||h.scrollLeft||document.body.scrollLeft)-(h.clientLeft||document.body.clientLeft||0);y=!0;v.hold(a);d.prevent_default&&u(a);break;case "mousemove":case "touchmove":if(!y)return!1;c.move= z(a);v.transform(a)||v.drag(a);break;case "mouseup":case "mouseout":case "touchcancel":case "touchend":if(!y||"transform"!=e&&a.touches&&0<a.touches.length)return!1;y=!1;b="drag"==e;v.swipe(a);b?i("dragend",{originalEvent:a,direction:n,distance:j,angle:l}):"transform"==e?i("transformend",{originalEvent:a,position:c.center,scale:E(c.start,c.move),rotation:F(c.start,c.move)}):v.tap(G);H=e;i("release",{originalEvent:a,gesture:e});c={};p=!1;l=j=0;e=null}}function B(a,b,c){for(var b=b.split(" "),d=0,e= b.length;d<e;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var t=this;var o={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:0.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500},q=d,m={};if(q){for(var k in o)m[k]=k in q?q[k]:o[k];d=m}else d= o;if(d.css_hacks){o=["webkit","moz","ms","o",""];q={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};m="";for(k=0;k<o.length;k++)for(var I in q)m=I,o[k]&&(m=o[k]+m.substring(0,1).toUpperCase()+m.substring(1)),h.style[m]=q[I]}var j=0,l=0,n=0,c={},p=!1,e=null,H=null,x=null,w={x:0,y:0},C=null,J=null;s=r=void 0;var y=!1,G,D="ontouchstart"in window;this.option=function(a,b){b!=K&&(d[a]=b);return d[a]};this.getDirectionFromAngle=function(a){var a={down:45<=a&&135> a,left:135<=a||-135>=a,up:-45>a&&-135<a,right:-45<=a&&45>=a},b,c;for(c in a)if(a[c]){b=c;break}return b};var v={hold:function(a){d.hold&&(e="hold",clearTimeout(J),J=setTimeout(function(){"hold"==e&&i("hold",{originalEvent:a,position:c.start})},d.hold_timeout))},swipe:function(a){if(c.move){var b=c.move[0].x-c.start[0].x,f=c.move[0].y-c.start[0].y;j=Math.sqrt(b*b+f*f);var g=(new Date).getTime()-x;d.swipe&&(d.swipe_time>g&&j>d.swipe_min_distance)&&(l=180*Math.atan2(c.move[0].y-c.start[0].y,c.move[0].x- c.start[0].x)/Math.PI,n=t.getDirectionFromAngle(l),e="swipe",i("swipe",{originalEvent:a,position:{x:c.move[0].x-s,y:c.move[0].y-r},direction:n,distance:j,distanceX:b,distanceY:f,angle:l}))}},drag:function(a){var b=c.move[0].x-c.start[0].x,f=c.move[0].y-c.start[0].y;j=Math.sqrt(b*b+f*f);if(d.drag&&j>d.drag_min_distance||"drag"==e){l=180*Math.atan2(c.move[0].y-c.start[0].y,c.move[0].x-c.start[0].x)/Math.PI;n=t.getDirectionFromAngle(l);var g="up"==n||"down"==n;(g&&!d.drag_vertical||!g&&!d.drag_horizontal)&& j>d.drag_min_distance||(e="drag",b={originalEvent:a,position:{x:c.move[0].x-s,y:c.move[0].y-r},direction:n,distance:j,distanceX:b,distanceY:f,angle:l},p&&(i("dragstart",b),p=!1),i("drag",b),u(a))}},transform:function(a){if(d.transform){if(2!=(a.touches?a.touches.length:1))return!1;var b=F(c.start,c.move),f=E(c.start,c.move);if("drag"!=e&&("transform"==e||Math.abs(1-f)>d.scale_treshold||Math.abs(b)>d.rotation_treshold))return e="transform",c.center={x:(c.move[0].x+c.move[1].x)/2-s,y:(c.move[0].y+c.move[1].y)/ 2-r},b={originalEvent:a,position:c.center,scale:f,rotation:b},p&&(i("transformstart",b),p=!1),i("transform",b),u(a),!0}return!1},tap:function(a){var b=(new Date).getTime(),f=b-x;if(!d.hold||d.hold&&d.hold_timeout>f){if(w&&d.tap_double&&"tap"==H&&x-C<d.tap_max_interval)var f=Math.abs(w[0].x-c.start[0].x),g=Math.abs(w[0].y-c.start[0].y),f=w&&c.start&&Math.max(f,g)<d.tap_double_distance;else f=!1;f?(e="double_tap",C=null,i("doubletap",{originalEvent:a,position:c.start}),u(a)):(f=c.move?Math.abs(c.move[0].x- c.start[0].x):0,g=c.move?Math.abs(c.move[0].y-c.start[0].y):0,j=Math.max(f,g),j<d.tap_max_distance&&(e="tap",C=b,w=c.start,d.tap&&(i("tap",{originalEvent:a,position:c.start}),u(a))))}}};D?B(h,"touchstart touchmove touchend touchcancel",A):(B(h,"mouseup mousedown mousemove",A),B(h,"mouseout",function(a){var b;a:if(b=a.relatedTarget,!b&&(window.event&&window.event.toElement)&&(b=window.event.toElement),h===b)b=!0;else{if(b)for(b=b.parentNode;null!==b;){if(b===h){b=!0;break a}b=b.parentNode}b=!1}b|| A(a)}))};